{% extends "base.html" %}
{% load static %}
{%block includes%}
  <link rel="stylesheet" href="{% static 'home.css' %}?v=2">
  <link rel="stylesheet" href="{% static 'approvalRequests.css' %}?v=2">
{%endblock%}

{%block title%}
Consult Patients
{%endblock%}

{%block content%}

<div class="content">
    <div class="container">
      <div class="section">
          <h1>Not Appointed</h1>
          {% for patient in notAppointed %}
          <div class="waitingUser">
            <span class="user">
                {{ patient }}
            </span> 
            <form action="" method="post" class="actions">
                {% csrf_token %}
                <button type="submit" value="{{patient.user.username}}" name="requestAppointment" id="requestAppointment" title="appoint">
                    <i class="fa-solid fa-plus" style="color: #27fe10;"></i>
                </button>
            </form>
          </div>
          {% endfor %}
      </div>
      <div class="section">
          <h1>Appointed</h1>
          {% for appointment in appointed %}
          <div class="waitingUser">
            <span class="user">
                {{ appointment.patient }}
            </span> 
            <form action="" method="post" class="actions">
                {% csrf_token %}
                <button type="submit" value="{{appointment.patient.user.username}}" name="requestRemoval" id="requestRemoval" title="remove appointment">
                    <i class="fa-solid fa-trash" style="color: #ff001a;"></i>
                </button>
            </form>
          </div>
          {% endfor %}
      </div>
      <div class="section">
          <h1>Appointment Requests</h1>
          {% for request in appointmentRequests %}
          <div class="waitingUser">
            <span class="user">
                {{ request.patient }}
            </span> 
            <form action="" method="post" class="actions">
                {% csrf_token %}
                <button type="submit" value="{{request.patient.user.username}}" name="cancelRequest" id="cancelRequest" title="cancel">
                    <i class="fa-solid fa-trash" style="color: #f20006;"></i>
                </button>
            </form>
          </div>
          {% endfor %}
      </div>
      <div class="section">
          <h1>Appointment Removal Requests</h1>
          {% for request in appointmentRemovalRequests %}
          <div class="waitingUser">
            <span class="user">
                {{ request.patient }}
            </span> 
            <form action="" method="post" class="actions">
                {% csrf_token %}
                <button type="submit" value="{{request.patient.user.username}}" name="cancelRemoval" id="cancelRemoval" title="cancel">
                    <i class="fa-solid fa-trash" style="color: #f20006;"></i>
                </button>
            </form>
          </div>
          {% endfor %}
      </div>
    </div>
  </div>
{%endblock%}
